{"ast":null,"code":"var _jsxFileName = \"/Users/wocten/Documents/group2-project/frontend/src/UploadAvatar.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction UploadAvatar() {\n  _s();\n  const [file, setFile] = useState(null);\n  const [preview, setPreview] = useState(\"\");\n  const [message, setMessage] = useState(\"\");\n  const handleFileChange = e => {\n    setFile(e.target.files[0]);\n    setPreview(URL.createObjectURL(e.target.files[0]));\n  };\n  const handleUpload = async e => {\n    e.preventDefault();\n    if (!file) return setMessage(\"❌ Vui lòng chọn ảnh!\");\n    const user = JSON.parse(localStorage.getItem(\"user\"));\n    const formData = new FormData();\n    formData.append(\"avatar\", file);\n    formData.append(\"userId\", user._id);\n    try {\n      const res = await axios.post(\"http://localhost:3000/api/users/upload\", formData);\n      setMessage(\"✅ \" + res.data.message);\n    } catch (err) {\n      var _err$response, _err$response$data;\n      setMessage(\"❌ \" + (((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || \"Lỗi upload ảnh!\"));\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: styles.container,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles.card,\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        style: styles.title,\n        children: \"C\\u1EADp nh\\u1EADt \\u1EA3nh \\u0111\\u1EA1i di\\u1EC7n\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleUpload,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          accept: \"image/*\",\n          onChange: handleFileChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 11\n        }, this), preview && /*#__PURE__*/_jsxDEV(\"img\", {\n          src: preview,\n          alt: \"preview\",\n          style: styles.preview\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 23\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"btn-submit\",\n          children: \"T\\u1EA3i l\\xEAn\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 9\n      }, this), message && /*#__PURE__*/_jsxDEV(\"p\", {\n        style: styles.message,\n        children: message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"style\", {\n      children: css\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 5\n  }, this);\n}\n_s(UploadAvatar, \"kKwVohntGSNg3V+qGLSiZ1TDIxY=\");\n_c = UploadAvatar;\nconst css = `\n  .btn-submit {\n    width: 100%; padding: 12px 14px;\n    background: linear-gradient(135deg,#4facfe,#00f2fe);\n    color: white; border: none; border-radius: 12px;\n    font-size: 16px; cursor: pointer; font-weight: 600;\n    margin-top: 15px;\n  }\n`;\nconst styles = {\n  container: {\n    background: \"linear-gradient(135deg,#c2e9fb,#a1c4fd)\",\n    height: \"100vh\",\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  },\n  card: {\n    background: \"#fff\",\n    padding: \"40px\",\n    borderRadius: \"20px\",\n    width: \"380px\",\n    textAlign: \"center\",\n    boxShadow: \"0 8px 25px rgba(0,0,0,0.15)\"\n  },\n  title: {\n    fontSize: \"26px\",\n    marginBottom: \"25px\"\n  },\n  preview: {\n    width: \"120px\",\n    height: \"120px\",\n    borderRadius: \"50%\",\n    objectFit: \"cover\",\n    margin: \"15px auto\"\n  },\n  message: {\n    fontSize: \"14px\",\n    marginTop: \"15px\"\n  }\n};\nexport default UploadAvatar;\nvar _c;\n$RefreshReg$(_c, \"UploadAvatar\");","map":{"version":3,"names":["React","useState","axios","jsxDEV","_jsxDEV","UploadAvatar","_s","file","setFile","preview","setPreview","message","setMessage","handleFileChange","e","target","files","URL","createObjectURL","handleUpload","preventDefault","user","JSON","parse","localStorage","getItem","formData","FormData","append","_id","res","post","data","err","_err$response","_err$response$data","response","style","styles","container","children","card","title","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","accept","onChange","src","alt","className","css","_c","background","height","display","alignItems","justifyContent","padding","borderRadius","width","textAlign","boxShadow","fontSize","marginBottom","objectFit","margin","marginTop","$RefreshReg$"],"sources":["/Users/wocten/Documents/group2-project/frontend/src/UploadAvatar.jsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport axios from \"axios\";\n\nfunction UploadAvatar() {\n  const [file, setFile] = useState(null);\n  const [preview, setPreview] = useState(\"\");\n  const [message, setMessage] = useState(\"\");\n\n  const handleFileChange = (e) => {\n    setFile(e.target.files[0]);\n    setPreview(URL.createObjectURL(e.target.files[0]));\n  };\n\n  const handleUpload = async (e) => {\n    e.preventDefault();\n    if (!file) return setMessage(\"❌ Vui lòng chọn ảnh!\");\n\n    const user = JSON.parse(localStorage.getItem(\"user\"));\n    const formData = new FormData();\n    formData.append(\"avatar\", file);\n    formData.append(\"userId\", user._id);\n\n    try {\n      const res = await axios.post(\"http://localhost:3000/api/users/upload\", formData);\n      setMessage(\"✅ \" + res.data.message);\n    } catch (err) {\n      setMessage(\"❌ \" + (err.response?.data?.message || \"Lỗi upload ảnh!\"));\n    }\n  };\n\n  return (\n    <div style={styles.container}>\n      <div style={styles.card}>\n        <h2 style={styles.title}>Cập nhật ảnh đại diện</h2>\n\n        <form onSubmit={handleUpload}>\n          <input type=\"file\" accept=\"image/*\" onChange={handleFileChange} />\n          {preview && <img src={preview} alt=\"preview\" style={styles.preview} />}\n          <button type=\"submit\" className=\"btn-submit\">Tải lên</button>\n        </form>\n\n        {message && <p style={styles.message}>{message}</p>}\n      </div>\n      <style>{css}</style>\n    </div>\n  );\n}\n\nconst css = `\n  .btn-submit {\n    width: 100%; padding: 12px 14px;\n    background: linear-gradient(135deg,#4facfe,#00f2fe);\n    color: white; border: none; border-radius: 12px;\n    font-size: 16px; cursor: pointer; font-weight: 600;\n    margin-top: 15px;\n  }\n`;\n\nconst styles = {\n  container: { background: \"linear-gradient(135deg,#c2e9fb,#a1c4fd)\", height: \"100vh\", display: \"flex\", alignItems: \"center\", justifyContent: \"center\" },\n  card: { background: \"#fff\", padding: \"40px\", borderRadius: \"20px\", width: \"380px\", textAlign: \"center\", boxShadow: \"0 8px 25px rgba(0,0,0,0.15)\" },\n  title: { fontSize: \"26px\", marginBottom: \"25px\" },\n  preview: { width: \"120px\", height: \"120px\", borderRadius: \"50%\", objectFit: \"cover\", margin: \"15px auto\" },\n  message: { fontSize: \"14px\", marginTop: \"15px\" },\n};\n\nexport default UploadAvatar;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}